const input = document.querySelector("#search-bar");
const suggestions = document.querySelector("#suggestions ul");

const ingredients = [
    "Salt",
	"Pepper",
	"Olive Oil",
	"Garlic",
	"Onions",
	"Tomatoes",
	"Chicken Broth",
	"Chicken Stock",
	"Butter",
	"Flour",
	"Sugar",
	"Eggs",
	"Milk",
	"All-Purpose Flour",
	"Baking Powder",
	"Vanilla Extract",
	"Cinnamon",
	"Lemon",
	"Lime",
	"Soy Sauce",
	"Cumin",
	"Pasta",
	"Ground Beef",
	"Rice",
	"Potatoes",
	"Basil",
	"Oregano",
	"Thyme",
	"Rosemary",
	"Paprika",
	"Ginger",
	"Honey",
	"Mustard",
	"Parmesan Cheese",
	"Cheddar Cheese",
	"Mozzarella Cheese",
	"Yogurt",
	"Heavy Cream",
	"Brown Sugar",
	"Nutmeg",
	"Cloves",
	"Coriander",
	"Red Pepper Flakes",
	"Worcestershire Sauce",
	"Vinegar",
	"Balsamic Vinegar",
	"Dijon Mustard",
	"Bay Leaves",
	"Celery",
	"Carrots",
	"Bell Peppers",
	"Green Onions",
	"Parsley",
	"Cilantro",
	"Dill",
	"Mint",
	"Coconut Milk",
	"Sesame Oil",
	"Fish Sauce",
	"Oyster Sauce",
	"Hoisin Sauce",
	"Sriracha",
	"Maple Syrup",
	"Molasses",
	"Dark Chocolate",
	"Cocoa Powder",
	"Almonds",
	"Walnuts",
	"Pecans",
	"Cashews",
	"Sunflower Seeds",
	"Pumpkin Seeds",
	"Chia Seeds",
	"Quinoa",
	"Lentils",
	"Chickpeas",
	"Black Beans",
	"Kidney Beans",
	"Olive Tapenade",
	"Pesto",
	"Hummus",
	"Diced Tomatoes",
	"Tomato Sauce",
	"Tomato Paste",
	"Red Wine",
	"White Wine",
	"Apple Cider Vinegar",
	"Lemon Juice",
	"Lime Juice",
	"Orange Juice",
	"Dijon Mustard",
	"Mayonnaise",
	"Ketchup",
	"Worcestershire Sauce",
	"Salsa",
	"Greek Yogurt",
	"Ricotta Cheese",
	"Feta Cheese",
	"Blue Cheese",
	"Gouda Cheese",
	"Fontina Cheese",
	"GruyÃ¨re Cheese",
	"Swiss Cheese",
	"Provolone Cheese",
	"Goat Cheese",
	"Chocolate Chip Cookies",
	"Chicken Parmesan",
	"Spaghetti Bolognese",
	"Guacamole",
	"Chicken Alfredo",
	"Pasta Carbonara",
	"Chicken Curry",
	"Grilled Chicken",
	"Beef Stir-Fry",
	"Salmon with Lemon-Dill Sauce",
	"Vegetable Stir-Fry",
	"Homemade Pizza",
	"Lasagna",
	"Chicken Noodle Soup",
	"Beef Chili",
	"Vegetarian Chili",
	"Shrimp Scampi",
	"Tacos",
	"Chicken Tenders",
	"Avocado Toast",
	"Omelette",
	"Pancakes",
	"French Toast",
	"Roast Chicken",
	"Baked Ziti",
	"Chicken Fajitas",
	"Beef Tacos",
	"Chicken Teriyaki",
	"Caesar Salad",
	"Caprese Salad",
	"Greek Salad",
	"Margarita Pizza",
	"Tomato Basil Soup",
	"Eggplant Parmesan",
	"Ratatouille",
	"Pad Thai",
	"Sushi Rolls",
	"Fried Rice",
	"Cauliflower Fried Rice",
	"Beef and Broccoli",
	"Chicken Quesadillas",
	"Hamburgers",
	"Chicken Enchiladas",
	"BBQ Ribs",
	"Goulash",
	"Clam Chowder",
	"Chicken Marsala",
	"Beef Stroganoff",
	"Shrimp Alfredo",
	"Tiramisu",
	"Cheesecake",
	"Apple Pie",
	"Chocolate Cake",
	"Pumpkin Pie",
	"Chicken Shawarma",
	"Falafel",
	"Hummus",
	"Chicken Piccata",
	"Pesto Pasta",
	"Gnocchi",
	"Beef Bourguignon",
	"Stuffed Bell Peppers",
	"Chicken Caesar Salad",
	"Cabbage Rolls",
	"Tomato Soup",
	"Cobb Salad",
	"Pulled Pork",
	"Mushroom Risotto",
	"Chicken Cordon Bleu",
	"Egg Fried Rice",
	"Crispy Baked Chicken",
	"Tuna Salad",
	"Potato Salad",
	"Chicken Tandoori",
	"Shrimp and Grits",
	"Chicken Pot Pie",
	"Beef and Mushroom Pie",
	"Lemon Bars",
	"Baklava",
	"Key Lime Pie",
	"Creme Brulee",
	"Pho",
	"Butter Chicken",
	"Sesame Chicken",
	"Chicken Katsu",
	"Coq au Vin",
	"Ravioli with Sage Butter",
	"Cinnamon Rolls"
];

function search(str) {
	return ingredients.filter((ingredient) =>
		ingredient.toLowerCase().includes(str.toLowerCase())
	);
}

function createSuggestion(ingredients) {
	const ingredientsListItem = document.createElement("li");
	ingredientsListItem.innerText = ingredients;
	return ingredientsListItem;
}

function clearSearchList() {
	suggestions.innerHTML = "";
}

function searchHandler(evt) {
	clearSearchList();

	if (!input.value) { return; }
	
	const filteredingredients = search(evt.target.value);
	const items = filteredingredients.map(val => {
		return createSuggestion(val);
	});
	suggestions.append(...items);
}

function useSuggestion(e) {
	if (e.target.nodeName === "LI") {
		input.value = e.target.innerText;
		clearSearchList();
	}
}

input.addEventListener("keyup", searchHandler);
suggestions.addEventListener("click", useSuggestion);